---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';

const lastPost = (await getCollection('posts')).sort((a, b) => b.data.date.getTime() - a.data.date.getTime())[0]

---

<article class="bg-custom-gradient flex relative  text-text col-span-1 lg:col-span-3 rounded-3xl flex-col lg:flex-row">
    <a aria-label="Mi último articulo" href={`blog/${lastPost.slug}`} class="rounded-3xl font-medium absolute  bg-accent flex justify-between w-96 p-4 lg:-top-6 lg:-right-4 hover:shadow-firm hover:transition-shadow">
        <p>Te invito a leer mi último articulo</p>
        <p>→</p>
    </a>

    <Image class="rounded-xl object-cover aspect-video mx-auto my-8 lg:m-8" src={lastPost.data.image} alt='' width={600} height={225}/>

    <section class="place-self-center flex flex-col gap-0 items-center w-full lg:items-start lg:gap-4">
            <h1 class="text-background font-bold font-mono text-5xl lg:text-3xl text-center md:text-start">
                {lastPost.data.title}
            </h1>
            <p class="line-clamp-5 text-background text-lg font-medium w-3/4 mb-6 p-2 lg:p-0 lg:mb-0 lg:w-auto">{lastPost.data.summary}</p>
    </section>
</article>